# Банковское приложение с поддержкой физических лиц и тестированием&#x20;

## Описание

Этот проект реализует банковское приложение, которое поддерживает работу с физическими лицами (местными и удалёнными). Проект включает реализацию механизмов для управления счётами и денежными средствами с поддержкой местных и удалённых объектов. Также реализовано полное покрытие тестами для проверки корректности работы системы. 

## Функциональность

### Работа с физическими лицами

- Возможность создания записи о физическом лице с указанием имени, фамилии и номера паспорта.
- Поддержка двух типов физических лиц:
  - **Локальные (LocalPerson)**: передаются с помощью сериализации и могут использоваться автономно без связи с сервером.
  - **Удалённые (RemotePerson)**: передаются через удалённые объекты и обеспечивают глобальную синхронизацию.

### Управление счетами

- Каждое физическое лицо может иметь несколько счетов.
- Уникальная идентификация счёта через комбинацию номера паспорта и идентификатора счёта (формат `passport:subId`).
- Возможность создания нового счёта с нулевым балансом, если он отсутствует.
- Поддержка операций обновления баланса с выводом нового значения на консоль.
- Глобальная видимость изменений через RemotePerson и локальная изоляция изменений для LocalPerson.
- Гарантия неотрицательного баланса на счетах.

### Поиск и проверка данных

- Поиск физического лица по номеру паспорта с выбором типа возвращаемого объекта (локальный или удалённый).
- Проверка данных физического лица при обновлении информации.

## Тестирование

### Особенности тестирования

Тесты разработаны с использованием JUnit и покрывают следующие аспекты:

1. **Создание физических лиц**:

   - Проверка правильности создания записи о физическом лице с учётом имени, фамилии и номера паспорта.

2. **Управление счётами**:

   - Создание счёта для физического лица и проверка корректности его данных.
   - Обновление баланса счёта и проверка нового значения.

3. **Работа с локальными и удалёнными объектами**:

   - Проверка поведения при работе с LocalPerson и RemotePerson до и после создания счетов.
   - Убедиться, что изменения в удалённых объектах синхронизируются глобально, а в локальных — остаются изолированными.

4. **Потокобезопасность**:

   - Проверка корректности выполнения операций изменения баланса в условиях многопоточности.

### Примеры тестов

Тесты включают:

- **`test01_createPerson`**: Проверяет создание нового физического лица.
- **`test02_createPersonAccount`**: Проверяет добавление счёта для физического лица.
- **`test03_changeAmount`**: Проверяет обновление баланса счёта.
- **`test09_checkThreadSafety`**: Убедиться в корректности операций с балансом в многопоточном режиме.

### Инфраструктура

- Реализован класс `BankTests`, который автоматически запускает тесты.
- Для тестов используется эмуляция сервера RMI с помощью `LocateRegistry` и `UnicastRemoteObject`. 

